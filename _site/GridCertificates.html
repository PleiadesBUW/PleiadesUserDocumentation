<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <style type="text/css"> .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:not(.external):nth-child(7) > .nav-list-link { display: block; font-weight: 600; text-decoration: none; background-image: linear-gradient(-90deg, #7fac15 0%, rgba(127, 172, 21, 0.8) 80%, rgba(127, 172, 21, 0) 100%); } .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:not(.passive):nth-child(7) > .nav-list-expander svg { transform: rotate(-90deg); } .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:not(.passive):nth-child(7) > .nav-list { display: block; } .site-nav > .nav-category-list > .nav-list-item:not(.passive) > .nav-list-expander svg { transform: rotate(-90deg); } .site-nav > .nav-category-list > .nav-list-item:not(.passive) > .nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>wLCG Grid Certificates | PLEIADES User Documentation</title> <meta name="generator" content="Jekyll v4.3.2" /> <meta property="og:title" content="wLCG Grid Certificates" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="User documentation for the PLEIADES cluster at the University of Wuppertal" /> <meta property="og:description" content="User documentation for the PLEIADES cluster at the University of Wuppertal" /> <link rel="canonical" href="http://localhost:4000/GridCertificates.html" /> <meta property="og:url" content="http://localhost:4000/GridCertificates.html" /> <meta property="og:site_name" content="PLEIADES User Documentation" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="wLCG Grid Certificates" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"User documentation for the PLEIADES cluster at the University of Wuppertal","headline":"wLCG Grid Certificates","url":"http://localhost:4000/GridCertificates.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> PLEIADES User Documentation </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Getting Started category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/gettingstarted.html" class="nav-list-link">Getting Started</a><ul class="nav-list"><li class="nav-list-item"><a href="/gettingstarted/access.html" class="nav-list-link">Access</a></li><li class="nav-list-item"><a href="/gettingstarted/software.html" class="nav-list-link">Software & File Systems</a></li><li class="nav-list-item"><a href="/gettingstarted/computations.html" class="nav-list-link">Computations</a></li><li class="nav-list-item"><a href="/gettingstarted/zabbix.html" class="nav-list-link">Monitoring</a></li></ul></li><li class="nav-list-item"><a href="/hardware.html" class="nav-list-link">Hardware</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in File Systems category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/filesystem.html" class="nav-list-link">File Systems</a><ul class="nav-list"><li class="nav-list-item"><a href="/filesystem/BeeGFS.html" class="nav-list-link">BeeGFS</a></li><li class="nav-list-item"><a href="/filesystem/filetransfers.html" class="nav-list-link">Moving Data</a></li><li class="nav-list-item"><a href="/filesystem/bestpractices.html" class="nav-list-link">Best Practices</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Slurm category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/slurm.html" class="nav-list-link">Slurm</a><ul class="nav-list"><li class="nav-list-item"><a href="/slurm/basics.html" class="nav-list-link">Basics</a></li><li class="nav-list-item"><a href="/slurm/gpu.html" class="nav-list-link">Using GPUs</a></li><li class="nav-list-item"><a href="/slurm/exampleArray.html" class="nav-list-link">Job arrays</a></li><li class="nav-list-item"><a href="/slurm/exampleDeps.html" class="nav-list-link">Job dependencies</a></li><li class="nav-list-item"><a href="/slurm/exampleTmp.html" class="nav-list-link">Slurm example: Clean up tmp directory</a></li><li class="nav-list-item"><a href="/slurm/performance.html" class="nav-list-link">Job Performance</a></li><li class="nav-list-item"><a href="/slurm/bestpractices.html" class="nav-list-link">Best Practices</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Software on PLEIADES category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/software.html" class="nav-list-link">Software on PLEIADES</a><ul class="nav-list"><li class="nav-list-item"><a href="/software/avail.html" class="nav-list-link">Available Software</a></li><li class="nav-list-item"><a href="/software/modules.html" class="nav-list-link">Modules</a></li><li class="nav-list-item"><a href="/software/mpi.html" class="nav-list-link">MPI on PLEIADES</a></li><li class="nav-list-item"><a href="/software/containers.html" class="nav-list-link">Containers</a></li><li class="nav-list-item"><a href="/software/pgi.html" class="nav-list-link">PGI</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Jupyter category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/jupyter.html" class="nav-list-link">Jupyter</a><ul class="nav-list"><li class="nav-list-item"><a href="/jupyter/jupyterHub.html" class="nav-list-link">JupyterHub on PLEIADES</a></li><li class="nav-list-item"><a href="/jupyter/jupyter-nb_on_pleiades.html" class="nav-list-link">Custom Jupyter Notebooks on PLEIADES</a></li><li class="nav-list-item"><a href="/jupyter/jupyter-kernels.html" class="nav-list-link">Creating custom kernels with IPython</a></li></ul></li><li class="nav-list-item"><a href="/GridCertificates.html" class="nav-list-link">wLCG Grid Certificates</a></li><li class="nav-list-item"><a href="/PleiadesAcknowledgement.html" class="nav-list-link">PLEIADES Acknowledgement</a></li><li class="nav-list-item"><a href="/faq.html" class="nav-list-link">Frequently Answered Questions</a></li></ul> </nav> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search PLEIADES User Documentation" aria-label="Search PLEIADES User Documentation" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://pleiades.uni-wuppertal.de/" class="site-button" > Pleiades Webpage </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 id="wlcg-grid-certificates"> <a href="#wlcg-grid-certificates" class="anchor-heading" aria-labelledby="wlcg-grid-certificates"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> wLCG Grid Certificates </h1> <h2 id="background"> <a href="#background" class="anchor-heading" aria-labelledby="background"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Background </h2> <p>After many many years, the German GridKa Certification Authority (CA) at KIT in Karlsruhe will cease operation at 11 June 2023 as the CA cert ends. As a successor the <a href="https://geant.org/">GÉANT</a> Europe’s leading collaboration on network and related infrastructure and services for the benefit of research and education offers the service Sectigo Certificate Manager to obtain Grid user certificates starting now.</p> <h2 id="introduction"> <a href="#introduction" class="anchor-heading" aria-labelledby="introduction"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Introduction </h2> <p>On order to access global Grid resources, users must hold a valid personal Grid user certificate (authentication) AND users must be member of a Virtual Organization (VO) (authorization). A valid Grid user certificate is a prerequisite to request membership in a VO. Users usually have one Grid user certificate. Multiple VO membership is possible.<sup id="fnref:note" role="doc-noteref"><a href="#fn:note" class="footnote" rel="footnote">1</a></sup></p> <p>A Grid user certificate (format X509) consists of a private key with a private password and a certified public key. The private key and the password is exclusively possessed by the user and is NOT known to the Registration Authority (RA) or Certification Authority (CA) at any stage.</p> <p>A certificate is valid for one (1) year and can be renewed. Users get notified by the CA via email three (3) weeks before the expiration date. It is strongly recommended to renew the certificate before its expiration.</p> <p>The certificate can/should be copied to all devices/browsers which need it.</p> <h2 id="authorities"> <a href="#authorities" class="anchor-heading" aria-labelledby="authorities"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Authorities </h2> <p>The <a href="https://geant.org/">GÉANT</a> CA is part of The <a href="http://www.igtf.net/" target="_blank" rel="noopener">International Grid Trust Federation (IGTF)</a> hence Grid user certificates are accepted by all Grid sites in WLCG. In order to facilitate the request procedure, many institutions in Germany operated Registration Authorities (RA) which take over the necessary paper-work on behalf of the CA.</p> <p>BUW employees may use their ZIM account to authenticate against GÉANT and request a Grid user certificate. Use the portal <a href="https://cert-manager.com/customer/DFN/ssocheck/" target="_blank" rel="noopener">Certificate Manager SSO Check</a> to test your account.</p> <p>Non-BUW users can not use the portal and should rather check with their home institution officials how to proceed.</p> <h2 id="procedure"> <a href="#procedure" class="anchor-heading" aria-labelledby="procedure"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Procedure </h2> <p><strong>There seem to be problems with the GEANT User Certificates when using those with for example AMI. Please use the alternative way (see 2. “In case of problems”) for the time being</strong></p> <ol> <li>Test your credentials (account_name / password) in <a href="https://cert-manager.com/customer/DFN/ssocheck/" target="_blank" rel="noopener">Certificate Manager SSO Check</a> . If you encounter problems during the certificate request, please screenshot your status information in the SSO check portal for further debugging</li> <li>Request a Grid user certificate in <a href="https://cert-manager.com/customer/DFN/idp/clientgeant" target="_blank" rel="noopener">GEANT User Cert</a> . <ul> <li>profile: GÉANT IGTF-MICS Personal</li> <li>choose Enrollment Method: Key Generation</li> <li>Key Type: RSA-4096</li> <li>more detailed information is available on the <a href="https://doku.tid.dfn.de/de:dfnpki:tcsfaq" target="_blank" rel="noopener">DFN FAQ page</a></li> <li><strong>In case of problems</strong>, e.g. if you don’t have an employee ZIM account and start the request as a student: Request a “Nutzerzertifikat”/”User certificate” at <a href="https://pki.pca.dfn.de/grid-root-ca/cgi-bin/pub/pki?cmd=getStaticPage&amp;name=index&amp;RA_ID=165">pki.pca.dfn.de/</a></li> </ul> </li> <li>after a short while the new cert can be downloaded from the page</li> <li>on Linux machines with Grid setups, the certificate and key files are usually placed in the directory ~/.globus/ <ul> <li>Download the <code class="language-plaintext highlighter-rouge">certs.p12</code> file the User Cert Manager offers you.</li> <li>copy it to <code class="language-plaintext highlighter-rouge">~/.globus/certs.p12</code></li> <li>Extract a <strong>certificate</strong> from it with <code class="language-plaintext highlighter-rouge">openssl pkcs12 -clcerts -nokeys -in certs.p12 -out usercert.pem</code> <ul> <li>the certificate is your passport, you “show” to services to authenticate yourself</li> </ul> </li> <li>Extract a <strong>key</strong> from it with <code class="language-plaintext highlighter-rouge">openssl pkcs12 -nocerts -in certs.p12 -out userkey.pem</code>.</li> <li><strong>Make sure the key can only be read by yourself:</strong> <code class="language-plaintext highlighter-rouge">chmod 400 userkey.pem</code>. <ul> <li>the key file is your secret key, that unlocks your certificate. Protect the key with a good password, do not share the key with anyone and backup the key, as it cannot be recovered, if the file got lost or you forgot the password</li> </ul> </li> <li><strong>in addition</strong> import the certs.p12 into your browser: <ul> <li>Firefox: Settings → Certificates → View Certificates → Your Certificates → Import</li> <li>Chrome: Settings → Security → Manage Certificates → Import (depends on your operating system, that’s why we stongly recommend Firefox!)</li> </ul> </li> </ul> </li> <li>with your user certificate as “passport” you have to register at your experiment/VO - so that your experiment/VO accepts your certificate and you can use experiment resources. <ul> <li>if you have already registered a (previous) certificate, you can add another certificate DN (DN= text string in your certificate, that identifies you) to your experiment account</li> <li>for <strong>ATLAS</strong>, this <a href="https://lcg-voms2.cern.ch:8443/voms/atlas/user/home.action" target="_blank" rel="noopener">VOMS</a> server is the central point for your registration <ul> <li>more information about Grid Certificate and VO Membership from an ATLAS point of view is available <a href="https://confluence.desy.de/display/grid/Grid+User+Certificates+New" target="_blank" rel="noopener">here</a></li> </ul> </li> </ul> </li> <li>Depending on your browser version, it might be necessary to check in your browser’s certificate trust settings → the <code class="language-plaintext highlighter-rouge">The USERTRUST Network</code> certificate authority needs to be trusted for all operations <ul> <li>Firefox: <ul> <li>Settings → Certificates → View Certificates → Authorities in the <code class="language-plaintext highlighter-rouge">The USERTRUST Network</code> block, select <code class="language-plaintext highlighter-rouge">Edit Trust</code> if for <code class="language-plaintext highlighter-rouge">GEANT eScience Personal CA</code> and ensure, that all trust settings are enabled</li> </ul> </li> <li>Chrome: <ul> <li>Settings → Security → Manage Certificates → Authorities search for <code class="language-plaintext highlighter-rouge">org-The USERTRUST Network</code> and ensure, that for both entries under <code class="language-plaintext highlighter-rouge">⋮</code> → Edit all trust settings are selected</li> </ul> </li> </ul> </li> <li>to avoid problems with previous certificates, restart your browser after importing and backing up the certificate and key has been done. I.e., to quit Firefox or Chrome explicitly select <code class="language-plaintext highlighter-rouge">Quit</code> or <code class="language-plaintext highlighter-rouge">Exit</code>, respectively, from the browsers’ menues. <ul> <li>if everything works with your new certificate, you can optionally delete your previous certificate</li> </ul> </li> </ol> <h2 id="technicalities"> <a href="#technicalities" class="anchor-heading" aria-labelledby="technicalities"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Technicalities </h2> <p>Technically a new private/public key pair is created with every renewal.</p> <h3 id="finding-certificates-in-firefox-browser"> <a href="#finding-certificates-in-firefox-browser" class="anchor-heading" aria-labelledby="finding-certificates-in-firefox-browser"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Finding certificates in Firefox browser </h3> <p>Preferences -&gt; Privacy &amp; Security -&gt; Certificates -&gt; View Certificates -&gt; Your Certificates (-&gt; Backup)</p> <h3 id="extracting-the-cert-files"> <a href="#extracting-the-cert-files" class="anchor-heading" aria-labelledby="extracting-the-cert-files"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Extracting the cert Files </h3> <p>Download/export the file either form the browser or directly to the ~/.globus/usercert.p12 directory and make sure to safe the old files. Then use openssl to extract ~/.globus/usercert.pem and ~/.globus/userkey.pem. Have your export passphrase at hand!</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/.globus
 
 <span class="o">&gt;</span> <span class="nb">mv </span>certs.p12 certs.p12.old
 <span class="o">&gt;</span> <span class="nb">mv </span>usercert.pem usercert.pem.old
 <span class="o">&gt;</span> <span class="nb">mv </span>userkey.pem  userkey.pem.old
 
 <span class="o">&gt;</span> <span class="nb">ls</span> <span class="nt">-l</span>
<span class="nt">-r--------</span> 1 account group 8213 24. Jan 14:36 certs.p12
<span class="nt">-r--------</span> 1 account group 2611 31. Jan 13:40 certs.p12.old
 
 <span class="o">&gt;</span> openssl pkcs12 <span class="nt">-clcerts</span> <span class="nt">-nokeys</span>  <span class="nt">-in</span> certs.p12 <span class="nt">-out</span> usercert.pem
 <span class="o">&gt;</span> openssl pkcs12 <span class="nt">-nocerts</span>          <span class="nt">-in</span> certs.p12 <span class="nt">-out</span> userkey.pem
 
 <span class="o">&gt;</span> <span class="nb">ls</span> <span class="nt">-l</span>
<span class="nt">-r--------</span> 1 account group 8213 24. Jan 14:36 certs.p12
<span class="nt">-r--------</span> 1 account group 8213 24. Jan 14:38 usercert.pem
<span class="nt">-r--------</span> 1 account group 2611 31. Jan 13:42 userkey.pem
</code></pre></div></div> <h3 id="inspecting-grid-user-certificates"> <a href="#inspecting-grid-user-certificates" class="anchor-heading" aria-labelledby="inspecting-grid-user-certificates"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Inspecting Grid user certificates </h3> <p>Please make sure your public (usercert.pem) and private (userkey.pem) keys are:</p> <ul> <li>in the correct directory,</li> <li>have the correct permissions,</li> <li>show your DN,</li> <li>are valid,</li> <li>match each other (have the same md5sum),</li> <li>you remember the password.</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> <span class="nb">cd</span> ~/.globus
 
 <span class="o">&gt;</span> <span class="nb">ls</span> <span class="nt">-l</span>
...
<span class="nt">-r--r--r--</span> 1 account group  1728  8. Apr 09:36 usercert.pem
<span class="nt">-r--------</span> 1 account group  2012  8. Apr 09:36 userkey.pem
 
 <span class="o">&gt;</span> openssl x509 <span class="nt">-subject</span> <span class="nt">-issuer</span> <span class="nt">-dates</span> <span class="nt">-noout</span> <span class="nt">-in</span> usercert.pem
<span class="nv">subject</span><span class="o">=</span> /DC<span class="o">=</span>org/DC<span class="o">=</span>terena/DC<span class="o">=</span>tcs/C<span class="o">=</span>DE/O<span class="o">=</span>Bergische Universitaet Wuppertal/CN<span class="o">=</span>Harenberg, Torsten harenber@uni-wuppertal.de
<span class="nv">issuer</span><span class="o">=</span> /C<span class="o">=</span>NL/O<span class="o">=</span>GEANT Vereniging/CN<span class="o">=</span>GEANT eScience Personal CA 4
<span class="nv">notBefore</span><span class="o">=</span>Apr 20 00:00:00 2022 GMT
<span class="nv">notAfter</span><span class="o">=</span>Apr 20 23:59:59 2023 GMT
 
 <span class="o">&gt;</span> openssl x509 <span class="nt">-noout</span> <span class="nt">-modulus</span> <span class="nt">-in</span> usercert.pem | openssl md5
 <span class="o">&gt;</span> openssl rsa <span class="nt">-noout</span> <span class="nt">-modulus</span> <span class="nt">-in</span> userkey.pem   | openssl md5
</code></pre></div></div> <div class="footnotes" role="doc-endnotes"> <ol> <li id="fn:note" role="doc-endnote"> <p>A Grid user certificate can be seen as an analogy to a passport, whereas the VO membership compares to a visa. <a href="#fnref:note" class="reversefootnote" role="doc-backlink">&#8617;</a></p> </li> </ol> </div> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
